@model IEnumerable<Category>

@foreach (var category in Model)
{
    // Kiểm tra xem danh mục này có con không
    bool hasChildren = category.Children != null && category.Children.Any();

    // Nếu không có con VÀ KHÔNG phải menu xổ xuống (ví dụ: Tin tức)
    if (!hasChildren)
    {
        <li>
            <a asp-controller="Category" asp-action="Index" asp-route-id="@category.Id" class="text-white text-decoration-none">
                @category.Name
            </a>
        </li>
    }
    // Nếu có con, tạo menu xổ xuống
    else
    {
        <li class="nav-item position-relative dropdown-hover">
            <a asp-controller="Category" asp-action="Index" asp-route-id="@category.Id" class="text-white text-decoration-none">
                @category.Name <i class="fa-solid fa-caret-down ms-1"></i>
            </a>
            <ul class="dropdown-menu-custom list-unstyled">
                @foreach (var child in category.Children)
                {
                    <li>
                        <a asp-controller="Category" asp-action="Index" asp-route-id="@child.Id" class="dropdown-item-custom text-white">
                            @child.Name
                        </a>
                    </li>
                }
            </ul>
        </li>
    }
}