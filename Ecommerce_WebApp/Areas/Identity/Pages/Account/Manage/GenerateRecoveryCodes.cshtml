@page
@model GenerateRecoveryCodesModel
@{
    ViewData["Title"] = "Tạo mã khôi phục (2FA)";
    ViewData["ActivePage"] = ManageNavPages.TwoFactorAuthentication;
    Layout = "/Areas/Identity/Pages/Account/Manage/_Layout.cshtml";
}

<div class="card shadow-sm border-0">
    <div class="card-header bg-danger text-white">
        <h4 class="mb-0">
            @* Thêm icon "phao cứu sinh" để trực quan hơn *@
            <i class="fas fa-life-ring me-2"></i>@ViewData["Title"]
        </h4>
    </div>
    <div class="card-body p-4">

        <partial name="_StatusMessage" for="StatusMessage" />

        <div class="alert alert-warning border-warning" role="alert">
            <h5 class="alert-heading fw-bold"><i class="fas fa-exclamation-triangle me-2"></i>Cảnh báo: Hãy lưu trữ cẩn thận!</h5>
            <p>
                <strong>Hãy cất những mã này ở một nơi cực kỳ an toàn</strong>, ví dụ như trong trình quản lý mật khẩu (1Password, Bitwarden) hoặc in ra giấy và cất vào két sắt.
            </p>
            <p>
                Nếu bạn làm mất thiết bị (điện thoại) và không có mã khôi phục, <strong>bạn sẽ mất hoàn toàn quyền truy cập vào tài khoản của mình.</strong>
            </p>
            <hr>
            <p class="mb-0 small text-muted">
                Lưu ý: Việc tạo mã mới này sẽ vô hiệu hóa các mã khôi phục cũ, nhưng sẽ không thay đổi khóa trong ứng dụng xác thực của bạn.
                Nếu muốn đổi khóa trong ứng dụng, bạn cần <a asp-page="./ResetAuthenticator" class="alert-link">đặt lại khóa xác thực</a>.
            </p>
        </div>

        <p class="mt-4 text-center">Bạn đã sẵn sàng để tạo một bộ mã khôi phục mới chưa?</p>

        <form method="post">
            <div class="d-grid gap-2 col-md-8 mx-auto mt-4">
                <button class="btn btn-danger btn-lg" type="submit">Tạo Mã Khôi Phục Mới</button>
                <a class="btn btn-outline-secondary" asp-page="./TwoFactorAuthentication">Không, quay lại</a>
            </div>
        </form>

    </div>
</div>